<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Download, translate and read OSM extracts — oe_get • osmextractr</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Download, translate and read OSM extracts — oe_get" />
<meta property="og:description" content="Download, translate and read OSM extracts" />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">osmextractr</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.1.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/providers.html">Add new OpenStreetMap providers</a>
    </li>
  </ul>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/itsleeds/osmextractr/">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Download, translate and read OSM extracts</h1>
    <small class="dont-index">Source: <a href='https://github.com/itsleeds/osmextractr/blob/master/R/get.R'><code>R/get.R</code></a></small>
    <div class="hidden name"><code>oe_get.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Download, translate and read OSM extracts</p>
    </div>

    <pre class="usage"><span class='fu'><a href='https://rdrr.io/pkg/osmextractr/man/oe_get.html'>oe_get</a></span>(
  <span class='kw'>place</span>,
  layer = <span class='st'>"lines"</span>,
  provider = <span class='st'>"geofabrik"</span>,
  <span class='kw'>...</span>,
  match_by = <span class='st'>"name"</span>,
  max_string_dist = <span class='fl'>1</span>,
  interactive_ask = <span class='fl'>FALSE</span>,
  download_directory = <span class='fu'>oe_download_directory</span>(),
  force_download = <span class='fl'>FALSE</span>,
  max_file_size = <span class='fl'>5e+08</span>,
  vectortranslate_options = <span class='kw'>NULL</span>,
  osmconf_ini = <span class='kw'>NULL</span>,
  extra_attributes = <span class='kw'>NULL</span>,
  force_vectortranslate = <span class='kw'>NULL</span>,
  download_only = <span class='fl'>FALSE</span>,
  oe_verbose = <span class='fl'>FALSE</span>,
  oe_quiet = <span class='fl'>FALSE</span>
)</pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>place</th>
      <td><p>Description of the geographical area that should be download
through the chosen <code>provider</code>. Can be either a length-1 character vector, a
length-1 <code>sfc_POINT</code> object or a numeric vector with length 2. See details
and examples.</p></td>
    </tr>
    <tr>
      <th>layer</th>
      <td><p>Which <code>layer</code> should be read in? Typically <code>points</code>, <code>lines</code>
(the default), <code>multilinestrings</code>, <code>multipolygons</code> or <code>other_relations</code>.</p></td>
    </tr>
    <tr>
      <th>provider</th>
      <td><p>Which provider should be used to download the data?
Available providers can be found with the following command:
<code>osmextractr:::oe_available_providers()</code></p></td>
    </tr>
    <tr>
      <th>...</th>
      <td><p>Arguments that should  be passed to <code><a href='https://rdrr.io/pkg/sf/man/st_read.html'>sf::st_read()</a></code></p></td>
    </tr>
    <tr>
      <th>match_by</th>
      <td><p>Which column of the provider data should be used for matching
the input place with the provider's data? The default is "name". Check
details and examples to understand how this parameter works. Ignored if
<code>place</code> is not a character vector since the matching is performed through a
spatial operation.</p></td>
    </tr>
    <tr>
      <th>max_string_dist</th>
      <td><p>Numeric value greater or equal than 0. What is the
maximum distance in fuzzy matching to tolerate before asking the user to
select which zone to download? This parameter is set equal to 0 if
<code>match_by</code> is equal to <code>iso3166_1_alpha2</code> or <code>iso3166_2</code>. Check details and
examples to understand why this parameter is important. Ignored if <code>place</code>
is not a character vector since the matching is performed through a spatial
operation.</p></td>
    </tr>
    <tr>
      <th>interactive_ask</th>
      <td><p>Boolean. If <code>TRUE</code> the function creates and
interactive menu in case the best match is further than <code>max_string_dist</code>.
Check details and examples to understand why this parameter is important.
Ignored if <code>place</code> is not a character vector since the matching is
performed through a spatial operation.</p></td>
    </tr>
    <tr>
      <th>download_directory</th>
      <td><p>Where to download the file containing the OSM data?
By default this is <code><a href='https://rdrr.io/r/base/tempfile.html'>tempdir()</a></code>, which changes each time you restart R.
You can set a persistent <code>download_directory</code> by adding the following
to your <code>.Renviron</code> file (e.g. with <code>usethis::edit_r_environ()</code>):
<code>OSMEXT_DOWNLOAD_DIRECTORY=/path/to/osm/data</code>.</p></td>
    </tr>
    <tr>
      <th>force_download</th>
      <td><p>Should the file be updated if it has already been
downloaded? <code>FALSE</code> by default.</p></td>
    </tr>
    <tr>
      <th>max_file_size</th>
      <td><p>The maximum file size to download without asking in
interactive mode. Default: <code>5e+8</code>, half a gigabyte.</p></td>
    </tr>
    <tr>
      <th>vectortranslate_options</th>
      <td><p>Options to pass to the <code><a href='https://rdrr.io/pkg/sf/man/gdal_utils.html'>sf::gdal_utils()</a></code>
argument <code>options</code>. Set by default. Check details and examples.</p></td>
    </tr>
    <tr>
      <th>osmconf_ini</th>
      <td><p>The configuration file specifying which columns should be
in the resulting data frame. See documentation at
<a href='https://gdal.org/drivers/vector/osm.html'>gdal.org</a> for details.</p></td>
    </tr>
    <tr>
      <th>extra_attributes</th>
      <td><p>Which addition columns, corresponding to OSM keys,
should be in the resulting dataset? <code>NULL</code> by default.</p></td>
    </tr>
    <tr>
      <th>force_vectortranslate</th>
      <td><p>Force the original <code>.pbf</code> file to be translated
into a <code>.gpkg</code> file, even if a <code>.gpkg</code> associated with the <code>provider</code> zone
already exists.</p></td>
    </tr>
    <tr>
      <th>download_only</th>
      <td><p>Boolean. If <code>TRUE</code> then the function only returns the
path where the matched file is stored, instead of reading it. <code>FALSE</code> by
default.</p></td>
    </tr>
    <tr>
      <th>oe_verbose</th>
      <td><p>Boolean. If <code>TRUE</code> the function prints informative messages.</p></td>
    </tr>
    <tr>
      <th>oe_quiet</th>
      <td><p>Should files be downloaded without a progress bar?
<code>FALSE</code> by default.</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>An sf object related to the input place.</p>
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>This function is a wrapper around ...</p>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='kw'>iow</span> <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/pkg/osmextractr/man/oe_get.html'>oe_get</a></span>(<span class='st'>"Isle of Wight"</span>, provider = <span class='st'>"test"</span>, oe_verbose = <span class='fl'>TRUE</span>)</div><div class='output co'>#&gt; <span class='message'>The input place was matched with: Isle of Wight</span></div><div class='output co'>#&gt; <span class='message'>File downloaded!</span></div><div class='output co'>#&gt; <span class='message'>Start with the vectortranslate operations on the input file!</span></div><div class='output co'>#&gt; <span class='message'>Finished the vectortranslate operations on the input file!</span></div><div class='output co'>#&gt; Reading layer `lines' from data source `/private/var/folders/24/8k48jl6d249_n_qfxwsl6xvm0000gn/T/RtmpNLZrOn/test_geofabrik_isle-of-wight-latest.gpkg' using driver `GPKG'
#&gt; Simple feature collection with 44365 features and 9 fields
#&gt; geometry type:  LINESTRING
#&gt; dimension:      XY
#&gt; bbox:           xmin: -5.401978 ymin: 43.35489 xmax: -0.175775 ymax: 50.89599
#&gt; CRS:            4326</div><div class='input'><span class='fu'><a href='https://rdrr.io/r/base/class.html'>class</a></span>(<span class='kw'>iow</span>)</div><div class='output co'>#&gt; [1] "sf"         "data.frame"</div><div class='input'><span class='fu'><a href='https://rdrr.io/r/base/summary.html'>summary</a></span>(<span class='kw'>sf</span>::<span class='fu'><a href='https://rdrr.io/pkg/sf/man/st_geometry_type.html'>st_geometry_type</a></span>(<span class='kw'>iow</span>))</div><div class='output co'>#&gt;           GEOMETRY              POINT         LINESTRING            POLYGON 
#&gt;                  0                  0              44365                  0 
#&gt;         MULTIPOINT    MULTILINESTRING       MULTIPOLYGON GEOMETRYCOLLECTION 
#&gt;                  0                  0                  0                  0 
#&gt;     CIRCULARSTRING      COMPOUNDCURVE       CURVEPOLYGON         MULTICURVE 
#&gt;                  0                  0                  0                  0 
#&gt;       MULTISURFACE              CURVE            SURFACE  POLYHEDRALSURFACE 
#&gt;                  0                  0                  0                  0 
#&gt;                TIN           TRIANGLE 
#&gt;                  0                  0 </div><div class='input'><span class='kw'>iow_points</span> <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/pkg/osmextractr/man/oe_get.html'>oe_get</a></span>(<span class='st'>"Isle of Wight"</span>, provider = <span class='st'>"test"</span>, layer = <span class='st'>"points"</span>)</div><div class='output co'>#&gt; Reading layer `points' from data source `/private/var/folders/24/8k48jl6d249_n_qfxwsl6xvm0000gn/T/RtmpNLZrOn/test_geofabrik_isle-of-wight-latest.gpkg' using driver `GPKG'
#&gt; Simple feature collection with 58945 features and 10 fields
#&gt; geometry type:  POINT
#&gt; dimension:      XY
#&gt; bbox:           xmin: -3.805609 ymin: 43.45894 xmax: -1.046749 ymax: 50.89437
#&gt; CRS:            4326</div><div class='input'><span class='fu'><a href='https://rdrr.io/r/base/summary.html'>summary</a></span>(<span class='kw'>sf</span>::<span class='fu'><a href='https://rdrr.io/pkg/sf/man/st_geometry_type.html'>st_geometry_type</a></span>(<span class='kw'>iow_points</span>))</div><div class='output co'>#&gt;           GEOMETRY              POINT         LINESTRING            POLYGON 
#&gt;                  0              58945                  0                  0 
#&gt;         MULTIPOINT    MULTILINESTRING       MULTIPOLYGON GEOMETRYCOLLECTION 
#&gt;                  0                  0                  0                  0 
#&gt;     CIRCULARSTRING      COMPOUNDCURVE       CURVEPOLYGON         MULTICURVE 
#&gt;                  0                  0                  0                  0 
#&gt;       MULTISURFACE              CURVE            SURFACE  POLYHEDRALSURFACE 
#&gt;                  0                  0                  0                  0 
#&gt;                TIN           TRIANGLE 
#&gt;                  0                  0 </div><div class='input'><span class='co'># Get the .pbf file path</span>
<span class='fu'><a href='https://rdrr.io/pkg/osmextractr/man/oe_get.html'>oe_get</a></span>(<span class='st'>"Isle of Wight"</span>, download_only = <span class='fl'>TRUE</span>)</div><div class='output co'>#&gt; [1] "/var/folders/24/8k48jl6d249_n_qfxwsl6xvm0000gn/T//RtmpNLZrOn/geofabrik_isle-of-wight-latest.gpkg"</div><div class='input'><span class='co'>if</span> (<span class='fl'>FALSE</span>) {
<span class='co'># alternative providers</span>
<span class='kw'>baku</span> <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/pkg/osmextractr/man/oe_get.html'>oe_get</a></span>(place = <span class='st'>"Baku"</span>, provider = <span class='st'>"bbbike"</span>, oe_verbose = <span class='fl'>TRUE</span>)
}</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Robin Lovelace, Andrea Gilardi.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.5.1.9000.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


